<p-dialog
    header="{{ 'Rol ('+ row?.nombre+')' }}"
    styleClass="p-fluid"
    [style]="{ width: '60rem', 'overflow':'auto' }"
    [maximizable]="true"
    [modal]="true"
    [(visible)]="visible"
    (onHide)="close()">

    <form [formGroup]="form" (ngSubmit)="guardar()">
        <div class="formgrid grid">
            <div class="col-12 md-12">

                <div class="field">
                    <p-pickList
                        [source]="todosLosPermisos"
                        [target]="permisosAsociados"
                        sourceHeader="Lista de Permisos"
                        targetHeader="Permisos asociados"
                        dragdrop="true"
                        filterBy="nombre"
                        [showTargetControls]="false"
                        sourceFilterPlaceholder="Buscar por nombre"
                        targetFilterPlaceholder="Buscar por nombre"
                        metaKeySelection="false"
                        [sourceStyle]="{'height':'25rem', 'word-break': 'break-word'}"
                        [targetStyle]="{'height':'25rem', 'word-break': 'break-word'}">

                        <ng-template let-item pTemplate="item">
                            <div class="permiso-item">
                                <div class="permiso-list-detail" pTooltip="{{ item.descripcion }}" tooltipPosition="top">
                                    {{ item.nombre }}
                                </div>
                            </div>
                        </ng-template>

                    </p-pickList>
                </div>

            </div>
        </div>

        <p-footer class="footer">
            <div class="grid">
                <div class="col-6 col-md-6">
                    <button type="submit" pButton label="Guardar" icon="pi pi-save" class="p-button-outlined"></button>
                </div>
                <div class="col-6 col-md-6">
                    <button type="button" pButton (click)="close()" label="Cancelar" class="p-button-danger p-button-text"></button>
                </div>
            </div>
        </p-footer>

    </form>

    <ng-template pTemplate="footer">
        <p style="color: #333;font-size: 12px;"><strong>Importante</strong>: Los cambios se verán reflejados en el próximo inicio de sesión</p>
    </ng-template>

</p-dialog>
