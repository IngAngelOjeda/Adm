
<div class="pages-body login-page flex flex-column">
    
    <div class="mt-6 flex justify-content-center">
		<img src="assets/layout/images/logoInstitucion.png" 
        style="width: 100%;max-width: 150px;height: auto;">
	</div>

    <div class="align-self-center mt-auto mb-auto">
        <div class="pages-panel card flex flex-column px-6">

            <div class="pages-header px-3 py-1">
                <h2>Acceso</h2>
            </div>
            <div class="mt-4 mb-4">
                <h1 class="m-0 text-primary font-semibold text-4xl"> Administración Portal Paraguay </h1>
                <span class="block text-700 mt-2">Se requiere autenticación para el inicio de sesión.</span>
            </div>

            <form [formGroup]="signinForm" (ngSubmit)="signin()" autocomplete="off" class="mt-3">
                <div class="input-panel flex flex-column mb-6">
                    <div class="p-inputgroup">
                        <span class="p-inputgroup-addon">
                            <i class="pi pi-user" *ngIf="!loading"></i>
                            <i class="pi pi-spin pi-spinner" *ngIf="loading" style="font-size: 1rem"></i>
                        </span>
                        <span class="p-float-label">
                            <input type="text" id="username" [formControl]="signinForm.controls['username']" pInputText>
                            <label for="password">Usuario</label>
                        </span>
                    </div>
                    <div *ngIf="signinForm.controls['username'].hasError('required') && signinForm.controls['username'].touched">
                        <p-message severity="error" text="Correo de usuario requerido"></p-message>
                    </div>
                    
                    <div class="p-inputgroup mt-3">
                        <span class="p-inputgroup-addon">
                            <i class="pi pi-key" *ngIf="!loading" ></i>
                            <i class="pi pi-spin pi-spinner" *ngIf="loading" style="font-size: 1rem"></i>
                        </span>
                        <span class="p-float-label">
                            <input type="password" id="password" [formControl]="signinForm.controls['password']" pInputText>
                            <label for="password">Contraseña</label>
                        </span>
                    </div>
                    <div *ngIf="signinForm.controls['password'].hasError('required') && signinForm.controls['password'].touched">
                        <p-message severity="error" text="Contraseña requerida"></p-message>
                    </div>

                </div>
                <button pbutton="" pripple="" class="p-element p-ripple w-full p-button p-component mb-4" tabindex="0" [disabled]="signinForm.invalid || loading" label="Login">
                    <span class="p-button-label">{{loading ? 'AUTORIZANDO...':'INICIAR SESIÓN'}} <i class="pi pi-spin pi-spinner" *ngIf="loading" style="font-size: 1rem"></i></span>
                    <span class="p-ink"></span>
                </button>
                <a  href="#/recuperar-clave"  label="Cambiar password" class="p-element p-ripple w-full p-button-text text-primary-500 p-button p-component">
                    <span class="p-button-label">Restablecer contraseña</span>
                    <span class="p-ink"></span>
                </a>
            </form>
        </div>
    </div>

    <footer>
        <img src="https://cdn.paraguay.gov.py/marca-SENATICs/marca-senatics-desarrollado-por-ALT.png"
            style="width: 5%; min-width: 250px;" />
    </footer>
</div> 
<p-toast preventOpenDuplicates="true"></p-toast>
